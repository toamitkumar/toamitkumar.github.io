<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:site_name" content="Amit Kumar"><meta property="og:type" content="article"><meta property="og:image" content="https://toamitkumar.in//img/home-bg.jpg"><meta property="twitter:image" content="https://toamitkumar.in//img/home-bg.jpg"><meta name=title content="Technology choices and Engineering practices"><meta property="og:title" content="Technology choices and Engineering practices"><meta property="twitter:title" content="Technology choices and Engineering practices"><meta name=description content="Second batch of the series of 5 posts describing the journey to build Product & Engineering for Financial Services"><meta property="og:description" content="Second batch of the series of 5 posts describing the journey to build Product & Engineering for Financial Services"><meta property="twitter:description" content="Second batch of the series of 5 posts describing the journey to build Product & Engineering for Financial Services"><meta property="twitter:card" content="summary"><meta name=keyword content="amit kumar, amitkumar, toamitkumar, Amit Kumar Blog, PaaS, Engineering, Engineering Excellence, Microservice, Digital Transformation, Cloud Computing, API Ecosystem, Agile, Conference speaking, DevOps, IaaC, IaaS"><link rel="shortcut icon" href=/img/favicon.ico><title>Technology choices and Engineering practices | toamitkumar's Blog, Engineering Excellence, software architecture, Technology Incubation, PaaS, Microservice, Digital Transformation, Cloud Computing, API Ecosystem, Agile, Conference speaking, DevOps, IAC, IaaS</title><link rel=canonical href=/2022/01/04/technology-choice-and-engineering-practices/><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/hugo-theme-cleanwhite.min.css><link rel=stylesheet href=/css/zanshang.css><link href=https://cdn.jsdelivr.net/gh/FortAwesome/Font-Awesome@5.15.1/css/all.css rel=stylesheet type=text/css><link rel=stylesheet href=https://toamitkumar.in/stylesheets/overwrite.css><script src=/js/jquery.min.js></script><script src=/js/bootstrap.min.js></script><script src=/js/hux-blog.min.js></script></head><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class=container-fluid><div class="navbar-header page-scroll"><button type=button class=navbar-toggle>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span>
</button>
<a class=navbar-brand href=/>Amit Kumar</a></div><div id=huxblog_navbar><div class=navbar-collapse><ul class="nav navbar-nav navbar-right"><li><a href=/>All Posts</a></li><li><a href=/categories/agile-development>agile development</a></li><li><a href=/categories/tech>tech</a></li><li><a href=/categories/transformation>transformation</a></li><li><a href=/top/community/>Community</a></li><li><a href=/top/speaking/>SPEAKING</a></li><li><a href=/top/about/>ABOUT</a></li><li><a href=/search><i class="fa fa-search"></i></a></li></ul></div></div></div></nav><script>var $body=document.body,$toggle=document.querySelector(".navbar-toggle"),$navbar=document.querySelector("#huxblog_navbar"),$collapse=document.querySelector(".navbar-collapse");$toggle.addEventListener("click",handleMagic);function handleMagic(){$navbar.className.indexOf("in")>0?($navbar.className=" ",setTimeout(function(){$navbar.className.indexOf("in")<0&&($collapse.style.height="0px")},400)):($collapse.style.height="auto",$navbar.className+=" in")}</script><style type=text/css>header.intro-header{background-image:url(/img/technology-choices.jpg)}</style><header class=intro-header><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><div class=tags><a class=tag href=/tags/product-engineering title="product engineering">product engineering
</a><a class=tag href=/tags/engineering-at-scale title="engineering at scale">engineering at scale
</a><a class=tag href=/tags/financial-services title="financial services">financial services
</a><a class=tag href=/tags/engineering-excellence title="engineering excellence">engineering excellence
</a><a class=tag href=/tags/infrastructure-as-a-service title="infrastructure as a service">infrastructure as a service
</a><a class=tag href=/tags/platform-engineering title="platform engineering">platform engineering</a></div><h1>Technology choices and Engineering practices</h1><h2 class=subheading>Building an Engineering setup in Financial Services - II</h2><span class=meta>Posted by
Amit Kumar
on
Tuesday, January 4, 2022</span></div></div></div></div></header><article><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
post-container"><p>The second article of the series of 5 articles describes my journey to build an Engineering setup in Financial Services. Read the <a href=/2022/01/02/building-engineering-setup-financial-services/>preface</a>.</p><ul><li><a href=/2022/01/03/building-and-scaling-engineering-team/>Building and scaling Engineering team</a>: Principles and practices adopted to build the product and engineering team</li><li><strong>Technology choices & Engineering practices</strong>: We took an outward-in approach to establish the foundation of technology stack, architecture/design choices & engineering practices</li><li><a href=/2022/01/05/platform-engineering/>Platform Engineering</a>:A team responsible for architecture reference, engineering tools/ practices, cross-cutting-concerns, DevOps processes, playbooks. Provide platform-as-service to the internal product team.</li><li><a href=/2022/01/27/infrastructure-as-a-service/>Infrastructure</a>: The core principle was IAC (Infrastructure as Code). We built a service-oriented structure with Infrastructure as Service</li><li><a href=/2022/02/02/infrastructure-as-a-service/>Operations - keep the lights ON aka DevOps</a>: Traditionally, financial services have a dedicated operations team. Following DevOps principle, we followed &ndash; <em>You build it, you run it!</em></li></ul><hr><p>This article covers the aspects of technology choices and practices that govern the build of the software product.</p><h2 id=technology-stack-and-development-tools>Technology Stack and development tools</h2><p>As mentioned in the <a href=/2022/01/02/building-and-scaling-engineering-team/>previous article</a>, we are on the bleeding edge of the technology stack.</p><blockquote><p>Optimise for team strength when choosing tech stack</p></blockquote><p>Make sure to have tech stack based on team’s strength and consumer needs. The below table represents the choices we had in place across technology and process enablers:</p><table><thead><tr><th>Category</th><th>Options</th></tr></thead><tbody><tr><td></td><td></td></tr><tr><td><strong>Technology</strong></td><td></td></tr><tr><td>Cloud Provider</td><td>GCP</td></tr><tr><td>Databases</td><td>MongoDB, PostgreSQL</td></tr><tr><td>Source Control</td><td>GitLab</td></tr><tr><td>IAC</td><td>Terraform, Ansible, Helm</td></tr><tr><td>Compute Engine</td><td>GCE</td></tr><tr><td>Containers</td><td>Docker, GKE</td></tr><tr><td>CI/ CD pipeline</td><td>gitlabCI, Bitrise</td></tr><tr><td>Languages</td><td>Dart (Flutter), JS (nodeJS)</td></tr><tr><td>Short cache</td><td>Redis</td></tr><tr><td>Firewall</td><td>Cloudflare</td></tr><tr><td>CDN</td><td>Cloudflare</td></tr><tr><td>Code Quality tool</td><td>Sonarqube</td></tr><tr><td>Automation</td><td>Dart, JS</td></tr><tr><td>Service Communication</td><td>Kafka</td></tr><tr><td>APIGW</td><td>Tyk</td></tr><tr><td>Identity Management</td><td>Forgerock</td></tr><tr><td>Secret Management</td><td>Vault</td></tr><tr><td>Logging</td><td>ELK, GCP Logging</td></tr><tr><td>Monitoring</td><td>Dynatrace, Cloud Ops</td></tr><tr><td>Alerts</td><td>Pager Duty</td></tr><tr><td>Performance</td><td>jMeter</td></tr><tr><td></td><td></td></tr><tr><td><strong>Process Enablers</strong></td><td></td></tr><tr><td>Agile</td><td>Jira, Confluence</td></tr><tr><td>Collaboration</td><td>Slack, Gmeet</td></tr><tr><td>Project Management</td><td>Smartsheet</td></tr></tbody></table><blockquote><p>Airbnb changed their FE stack to optimise for team productivity</p></blockquote><h6 id=the-anti-pattern>The anti-pattern</h6><p>There is an anti-pattern here, we chose Flutter as our FE stack, even though, we didn’t have anyone in the team that had worked on Dart before. The driving factor for this decision was CX - we wanted to have single-code across all channels/ platforms and hence, ReactNative was our first choice, however, the customer segment we were serving had very low-end smartphones (need for native apps). Dart was a good choice
and my chat with <a href=https://www.linkedin.com/in/csells/ rel=noopener target=_blank>Chris Sells</a> put a stamp on the decision.</p><h2 id=development-practices>Development practices</h2><p>I consider good Engineering practices as enablers for building & shipping quality software that helps businesses and customers be successful. (there is no value of writing code that doesn&rsquo;t make business successful). So, always focus on a pragmatic approach that is needed for a successful product launch.</p><p>Engineering practices do not need an introduction:</p><ul><li>Write testable code with test coverage</li><li>Run the build and tests in a CI process</li><li>Use test pyramids. Read this <a href=https://martinfowler.com/articles/practical-test-pyramid.html rel=noopener target=_blank>wonderful article</a> by Martin Fowler</li><li>Build once, promote further (deploy automatically or by the click of a button)</li><li>Error and exception handling (system, business, integration)</li><li>Make your systems Observable (and auditable)</li><li>Performance and Security are features in the backlog (took a lot of time for us to bring this practice in-place, still WIP)</li><li>Infrastructure and configurations are code (run them in a fully automated pipeline)</li><li>TDD, Code refactoring, architecture/design discussions are mandatory (among these TDD is still WIP)</li><li>Use metrics to measure (extension of DORA)</li></ul><p>Like always, we created some guiding principles, some highlighted ones:</p><h4 id=guiding-principles>Guiding principles:</h4><ul><li><strong>Blue-print the near future state</strong>: always create the near end-state of application architecture (or the blue-print) as reference. Remember, your end-state <strong><em>will evolve</em></strong> but it is important to have a path and track the progress.</li><li><strong>Align architecture and design principles</strong>: As you scale, to avoid choking design decision-making, it is important to have it distributed but we made sure there is an alignment of the ones we care the most:<ul><li>Reusable (don’t reinvent the wheel) and Single source of truth (master)</li><li>SRP & YAGNI (these are my favorites)</li><li>Keep in-mind x-as-a-service</li><li>Secure service</li><li>Design for Async (least coupling)</li></ul></li><li><strong>Invest in building cross-cutting-concerns</strong> (do a very early investment): this is the basis of the <a href=/2022/01/05/platform-engineering/>Platform Engineering</a> post</li><li>Reduce entropy - make architecture composable</li><li>Organize code and pipelines (automate all components, everything is code including configurations)</li><li>Version code/ APIs (use Semver). Document APIs (we used <a href=https://redoc.ly/ rel=noopener target=_blank>Redocly</a>)</li><li>Write single code for all customer channels (feature parity becomes a big challenge across various channels). We chose Dart (Flutter)</li><li>Follow test pyramid (invest in automation but remember it doesn&rsquo;t solve all testing problems, you still need to do manual testing. Follow measuring ROI)</li><li><strong>RFCs and ADRs are a must</strong>: <a href=https://engineering.atspotify.com/2020/04/14/when-should-i-write-an-architecture-decision-record/ rel=noopener target=_blank>when should you write an Architecture Decision Record</a>. If you&rsquo;re interested more, read <a href=https://medium.com/ibm-garage/gitarchitecture-a-better-way-to-capture-architectural-decisions-b3574a3d604 rel=noopener target=_blank>Git Architecture — a better way to capture Architectural decisions</a> by Kyle Gene Brown.</li><li><strong>De-couple deployment and release. Feature flag them</strong><ul><li>Deployments should be as per schedule (we deploy to production at the end of each sprint). Frequent deployments <code>reduce the blast radius</code></li><li>Enables capabilities for <em>Canary deployments</em> with sophisticated <code>Feature Flags</code></li><li>Feature release is driven by the Product Team based on: feature completeness or other strategies<figure><img src=/img/deployment-train.jpg alt><center><figcaption>Deployment & Release Train</figcaption></center></figure></li></ul></li><li><strong>Follow deployment train</strong>: we have a strict cadence of deploying working software at the end of each sprint: development, test, validate performance and deploy (as depicted in the picture above). Squads can choose to catch or leave the train based on the readiness of their feature.</li><li><strong>Design for failure</strong></li><li><strong>Backward compatibility is a must</strong>: Make sure infra, application modules, APIs are all backward compatible. Use <code>Semver</code> to version your software.</li><li><strong>Make systems and applications Observable</strong>: Make your application and systems monitored proactively - you should know before customer experiences downtime.</li><li><strong>Backlog is the single source of truth</strong>: Everything should be in the backlog (functional features, non-functional requirements). Make the backload measurable so that team can predict on the time to churn.</li><li><strong>Define engineering metrics and track them</strong>: One of the life lessons -</li></ul><blockquote><p>if you have to manage, find ways to measure</p></blockquote><p>Hence, to measure various aspects of our Engineering setup, we defined metrics across various dimensions:</p><p><figure><img src=/img/engineering-metric.jpg alt><center><figcaption>Engineering metrics</figcaption></center></figure></p><p>Metrics are categorised across Application Quality, Deployments, Incident Management, Performance and developmental process. If you notice closely, most of these metrics are inter-dependent e.g. deviation in release date and velocity are closely linked. Additionally, the data for measuring these metrics is spread across various systems:</p><ul><li>Jira/ Confluence</li><li>Sonarqube</li><li>Monitoring across tools like Dynatrace, Cloud monitoring</li><li>Gitlab runners</li><li>Crashlytics</li><li>Incident management</li><li>Pagerduty</li></ul><p>We developed our in-house tool that assembles data from all the above and creates aggregated charts. This is a WIP progress system and it is one of the crucial&rsquo;s to keep a close track.</p><h3 id=aspects-of-development-practices>Aspects of development practices</h3><p>As far as it goes with me, there are 3 major pillars of software development practices: <strong>Predictability, Quality and Automation</strong>.</p><h4 id=predictability>Predictability</h4><p>Your backlog should be the <strong>source of truth</strong> for any task the developers do. Enforce to make sure this gets strictly followed, even if it is not related to writing code (make sure tickets are tagged, so that you can accordingly measure time spent outside of writing code). All public releases should be based on churn-rate of the backlog - this helps the product & GTM (go-to-market) team plan feature releases.</p><h5 id=the-anti-pattern-prioritise-initiatives-that-are-dependent-on-multiple-squads>The anti-pattern: Prioritise initiatives that are dependent on multiple squads</h5><p>We faced a similar challenge - the feature had multiple squad dependencies and priorities need to be worked on. There are various ways to solve this, however, the one that has started to work for us: <strong>single backlog across all squads</strong>. Make sure you have one single backlog, it helps to bring one single view of features and henceforth easier to prioritise. It also helps to make cross-squad dependency visible for better management. One of the other ways, I have seen this working is through vertical slicing of features — reducing cross-squad dependencies but in a distributed system setup, this is rather difficult to implement.</p><h4 id=quality>Quality</h4><p>Quality doesn&rsquo;t need an introduction but I will focus on one aspect of the software process (which is very close to me) - testing. I consider testing and people related to them as <strong>First-class citizens</strong>. In our world of complex, distributed systems, testing is vital to reduce the risks of downtime and disruption. Testing is the responsibility of the whole squad, not only our testers. In essence, our QAs are gate-keepers of quality that get delivered from the squad.</p><blockquote><p>Remember, when something goes wrong on production, the first thing that people question, did we do proper testing?</p></blockquote><p>We celebrated testing as one of the important ceremonies in our Agile process — it is one of the thankless & a monotonous activity. This is still a WIP and our major tech debts are around automated testing. We are doing investment to build boilerplate code of automation frameworks so that team can focus on writing better and maintainable test scripts.</p><h5 id=the-anti-pattern-quality-vs-speed-of-delivery>The anti-pattern: Quality vs speed of delivery</h5><p>Having worked with various teams, I have started to believe, speed of delivery has not only dependence on baking quality (aka testing: functional or non-functional) but also on other aspects: feature clarity, time spent by developers on poor design decisions than writing the feature, time spent in regression test cycles or time spent in managing dependencies. Closely monitor the time team spends not writing software, it will bring out hidden avenues to improve speed of delivery.</p><h5 id=the-anti-pattern-deadline-driven-development>The anti-pattern: Deadline driven development</h5><p>There are situations where you have to choose speed over quality — it should be done only in situations where you’re getting a competitive advantage. I must warn you here, be careful, otherwise this becomes a norm and you’re bitten by what I call: <em><strong>Deadline Driven Development</strong></em>. In such a scenario, team is doing a constant <a href=https://en.wikipedia.org/wiki/Death_march_%28project_management%29 rel=noopener target=_blank>death march</a>.</p><h4 id=automation>Automation</h4><p>Automation should be the basic requirement to any manual process followed during feature development, build, testing or deployment.</p><blockquote><p>a step that requires to be done with an executable command more than 3 times, should be automated</p></blockquote><p>we followed the about guiding principle across. It took time (still needs constant pushing) to build a mindset of automation. Be lazy, be hungry to automate, be a blocker - all these were simple radiators that we constantly pushed through the organisation.</p><h3 id=engineering-cadence-and-forums>Engineering cadence and forums</h3><p>Having cadence and a regular touch-point becomes an important aspect of communication flow across the organisation. We enabled multiple forums to have information flowing related to OKR and technical design discussions.<figure><img src=/img/engineering-cadence.jpg alt><center><figcaption>Engineering cadence</figcaption></center></figure></p><p>Each one of the above forums has relevance based on the frequency we followed.</p><p>Read through the next article on <a href=/2022/01/05/platform-engineering/>Platform Engineering</a>.</p><hr><ul class=pager><li class=previous><a href=/2022/01/03/building-and-scaling-engineering-team/ data-toggle=tooltip data-placement=top title="Building & scaling Engineering team">&larr;
Previous Post</a></li><li class=next><a href=/2022/01/05/platform-engineering/ data-toggle=tooltip data-placement=top title="Platform Engineering">Next
Post &rarr;</a></li></ul><div id=disqus-comment></div><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//toamitkumar-in.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><div class="col-lg-2 col-lg-offset-0
visible-lg-block
sidebar-container
catalog-container"><div class=side-catalog><hr class="hidden-sm hidden-xs"><h5><a class=catalog-toggle href=#>CATALOG</a></h5><ul class=catalog-body></ul></div></div><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
sidebar-container"></div></div></div></article><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li><a href=mailto:toamitkumar@gmail.com><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://twitter.com/toamit><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=https://github.com/toamitkumar><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=https://www.linkedin.com/in/toamitkumar><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=https://toamitkumar.medium.com><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-medium fa-stack-1x fa-inverse"></i></span></a></li><li><a href rel=alternate type=application/rss+xml title="Amit Kumar"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="copyright text-muted">Copyright &copy; Amit Kumar 2026<br><a href=https://themes.gohugo.io/hugo-theme-cleanwhite>CleanWhite Hugo Theme</a> by <a href=https://zhaohuabing.com>Huabing</a> |
<iframe style=margin-left:2px;margin-bottom:-5px frameborder=0 scrolling=0 width=100px height=20px src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true"></iframe></p></div></div></div></footer><script>function loadAsync(e,t){var s=document,o="script",n=s.createElement(o),i=s.getElementsByTagName(o)[0];n.src=e,t&&n.addEventListener("load",function(e){t(null,e)},!1),i.parentNode.insertBefore(n,i)}</script><script>$("#tag_cloud").length!==0&&loadAsync("/js/jquery.tagcloud.js",function(){$.fn.tagcloud.defaults={color:{start:"#bbbbee",end:"#0085a1"}},$("#tag_cloud a").tagcloud()})</script><script>loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js",function(){var e=document.querySelector("nav");e&&FastClick.attach(e)})</script><script type=text/javascript>function generateCatalog(e){_containerSelector="div.post-container";var t,n,s,o,i,a=$(_containerSelector),r=a.find("h1,h2,h3,h4,h5,h6");return $(e).html(""),r.each(function(){t=$(this).prop("tagName").toLowerCase(),o="#"+$(this).prop("id"),n=$(this).text(),i=$('<a href="'+o+'" rel="nofollow">'+n+"</a>"),s=$('<li class="'+t+'_nav"></li>').append(i),$(e).append(s)}),!0}generateCatalog(".catalog-body"),$(".catalog-toggle").click(function(e){e.preventDefault(),$(".side-catalog").toggleClass("fold")}),loadAsync("/js/jquery.nav.js",function(){$(".catalog-body").onePageNav({currentClass:"active",changeHash:!1,easing:"swing",filter:"",scrollSpeed:700,scrollOffset:0,scrollThreshold:.2,begin:null,end:null,scrollChange:null,padding:80})})</script></body></html>